-- Ultra Admin Panel by YiuSanNiun
-- Place LocalScript in StarterGui

local Player = game.Players.LocalPlayer
local char = Player.Character or Player.CharacterAdded:Wait()
local hum = char:WaitForChild("Humanoid")

-- ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AdminPanel"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = Player:WaitForChild("PlayerGui")

-- Main Panel (centered)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 370, 0, 460)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = false
MainFrame.Parent = ScreenGui
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 12)

-- Drop Shadow
local shadow = Instance.new("ImageLabel", MainFrame)
shadow.ZIndex = -1
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.Image = "rbxassetid://1316045217"
shadow.ImageTransparency = 0.4
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.BackgroundTransparency = 1

-- Title Bar
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
Title.Text = "âš¡ Admin Panel - By YiuSanNiun âš¡"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Instance.new("UICorner", Title).CornerRadius = UDim.new(0, 12)

-- Toggle Open/Close
local ToggleBtn = Instance.new("TextButton", ScreenGui)
ToggleBtn.Size = UDim2.new(0, 90, 0, 35)
ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
ToggleBtn.Text = "Open"
ToggleBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.TextSize = 14
Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(0, 8)

local panelOpen = false
ToggleBtn.MouseButton1Click:Connect(function()
	panelOpen = not panelOpen
	MainFrame.Visible = panelOpen
	ToggleBtn.Text = panelOpen and "Close" or "Open"
end)

-- Scroll container
local Scroll = Instance.new("ScrollingFrame", MainFrame)
Scroll.Size = UDim2.new(1, -10, 1, -50)
Scroll.Position = UDim2.new(0, 5, 0, 45)
Scroll.CanvasSize = UDim2.new(0, 0, 0, 1200)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 4

local UIList = Instance.new("UIListLayout", Scroll)
UIList.Padding = UDim.new(0, 6)
UIList.FillDirection = Enum.FillDirection.Vertical
UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- ðŸ”¹ UI Helpers ðŸ”¹
local function sectionHeader(text)
	local lbl = Instance.new("TextLabel", Scroll)
	lbl.Size = UDim2.new(1, -10, 0, 30)
	lbl.Text = " " .. text
	lbl.TextXAlignment = Enum.TextXAlignment.Left
	lbl.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	lbl.TextColor3 = Color3.fromRGB(200, 200, 200)
	lbl.Font = Enum.Font.GothamBold
	lbl.TextSize = 14
	Instance.new("UICorner", lbl).CornerRadius = UDim.new(0, 8)
end

local function createBtn(name, callback)
	local btn = Instance.new("TextButton", Scroll)
	btn.Size = UDim2.new(1, -10, 0, 35)
	btn.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
	btn.Text = name
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

	-- Hover effect
	btn.MouseEnter:Connect(function()
		btn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
	end)
	btn.MouseLeave:Connect(function()
		btn.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
	end)

	btn.MouseButton1Click:Connect(function() callback(btn) end)
	return btn
end

local function setToggle(btn, state)
	btn.BackgroundColor3 = state and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(55, 55, 55)
end

local function createInput(labelText, defaultValue, onConfirm)
	local frame = Instance.new("Frame", Scroll)
	frame.Size = UDim2.new(1, -10, 0, 40)
	frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 8)

	local lbl = Instance.new("TextLabel", frame)
	lbl.Size = UDim2.new(0.5, -5, 1, 0)
	lbl.Position = UDim2.new(0, 5, 0, 0)
	lbl.BackgroundTransparency = 1
	lbl.Text = labelText
	lbl.TextColor3 = Color3.fromRGB(255, 255, 255)
	lbl.Font = Enum.Font.GothamBold
	lbl.TextSize = 14
	lbl.TextXAlignment = Enum.TextXAlignment.Left

	local box = Instance.new("TextBox", frame)
	box.Size = UDim2.new(0.45, -5, 1, -6)
	box.Position = UDim2.new(0.5, 0, 0, 3)
	box.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	box.Text = ""
	box.PlaceholderText = tostring(defaultValue)
	box.TextColor3 = Color3.fromRGB(255, 255, 255)
	box.Font = Enum.Font.Gotham
	box.TextSize = 14
	Instance.new("UICorner", box).CornerRadius = UDim.new(0, 6)

	box.FocusLost:Connect(function(enterPressed)
		if enterPressed then
			local val = tonumber(box.Text)
			if val then
				onConfirm(val)
				box.Text = tostring(val)
			else
				box.Text = ""
				onConfirm(defaultValue)
			end
		end
	end)
end

-- ðŸ”¹ Features ðŸ”¹
sectionHeader("Movement")
local infJumpEnabled = false
createBtn("Infinite Jump", function(btn)
	infJumpEnabled = not infJumpEnabled
	setToggle(btn, infJumpEnabled)
end)
game:GetService("UserInputService").JumpRequest:Connect(function()
	if infJumpEnabled and hum then hum:ChangeState("Jumping") end
end)

createInput("Speed:", 16, function(val) hum.WalkSpeed = val end)
createInput("Jump Power:", 50, function(val) hum.JumpPower = val end)

local flyEnabled, bodyVel, bodyGyro = false
createBtn("Toggle Fly", function(btn)
	flyEnabled = not flyEnabled
	setToggle(btn, flyEnabled)
	if flyEnabled then
		local root = char:FindFirstChild("HumanoidRootPart")
		bodyVel = Instance.new("BodyVelocity", root)
		bodyVel.MaxForce = Vector3.new(4000, 4000, 4000)
		bodyGyro = Instance.new("BodyGyro", root)
		bodyGyro.MaxTorque = Vector3.new(4000, 4000, 4000)
		game:GetService("RunService").Heartbeat:Connect(function()
			if flyEnabled and bodyVel then
				local cam = workspace.CurrentCamera
				local dir = Vector3.zero
				if game.UserInputService:IsKeyDown(Enum.KeyCode.W) then dir += cam.CFrame.LookVector end
				if game.UserInputService:IsKeyDown(Enum.KeyCode.S) then dir -= cam.CFrame.LookVector end
				if game.UserInputService:IsKeyDown(Enum.KeyCode.A) then dir -= cam.CFrame.RightVector end
				if game.UserInputService:IsKeyDown(Enum.KeyCode.D) then dir += cam.CFrame.RightVector end
				if game.UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir += Vector3.new(0,1,0) end
				if game.UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then dir -= Vector3.new(0,1,0) end
				bodyVel.Velocity = dir * 60
				bodyGyro.CFrame = cam.CFrame
			end
		end)
	else
		if bodyVel then bodyVel:Destroy() end
		if bodyGyro then bodyGyro:Destroy() end
	end
end)

createBtn("Toggle Noclip", function(btn)
	local state = false
	game:GetService("RunService").Stepped:Connect(function()
		if state and char then
			for _, p in pairs(char:GetDescendants()) do
				if p:IsA("BasePart") then p.CanCollide = false end
			end
		end
	end)
	state = not state
	setToggle(btn, state)
end)

sectionHeader("Player")
createInput("Health:", 100, function(val) hum.MaxHealth = val hum.Health = val end)

local godmode = false
createBtn("Godmode", function(btn)
	godmode = not godmode
	setToggle(btn, godmode)
	if godmode then
		hum.HealthChanged:Connect(function() hum.Health = hum.MaxHealth end)
	end
end)

createBtn("Sit / Unsit", function() hum.Sit = not hum.Sit end)
createBtn("Respawn", function() Player:LoadCharacter() end)

sectionHeader("Visual")
local invisible = false
createBtn("Toggle Invisibility", function(btn)
	invisible = not invisible
	for _, p in pairs(char:GetDescendants()) do
		if p:IsA("BasePart") then p.LocalTransparencyModifier = invisible and 1 or 0 end
	end
	setToggle(btn, invisible)
end)

local fullbright = false
local Lighting = game:GetService("Lighting")
createBtn("Toggle Fullbright", function(btn)
	fullbright = not fullbright
	setToggle(btn, fullbright)
	if fullbright then
		Lighting.Ambient = Color3.new(1,1,1)
		Lighting.Brightness = 2
		Lighting.ClockTime = 12
	else
		Lighting.Ambient = Color3.fromRGB(127,127,127)
		Lighting.Brightness = 1
		Lighting.ClockTime = 14
	end
end)

local espEnabled = false
createBtn("ESP Names", function(btn)
	espEnabled = not espEnabled
	setToggle(btn, espEnabled)
	for _, plr in pairs(game.Players:GetPlayers()) do
		if plr ~= Player and plr.Character and plr.Character:FindFirstChild("Head") then
			if espEnabled then
				if not plr.Character.Head:FindFirstChild("ESPTag") then
					local bill = Instance.new("BillboardGui", plr.Character.Head)
					bill.Name = "ESPTag"
					bill.Size = UDim2.new(0, 200, 0, 50)
					bill.AlwaysOnTop = true
					local label = Instance.new("TextLabel", bill)
					label.Size = UDim2.new(1, 0, 1, 0)
					label.BackgroundTransparency = 1
					label.Text = plr.Name
					label.TextColor3 = Color3.fromRGB(255, 0, 0)
					label.Font = Enum.Font.GothamBold
					label.TextSize = 14
				end
			else
				local old = plr.Character.Head:FindFirstChild("ESPTag")
				if old then old:Destroy() end
			end
		end
	end
end)

sectionHeader("World")
createBtn("Low Gravity", function(btn) workspace.Gravity = 50 setToggle(btn,true) end)
createBtn("Reset Gravity", function(btn) workspace.Gravity = 196.2 setToggle(btn,false) end)

createBtn("Touch Kill", function(btn)
	for _, p in pairs(char:GetDescendants()) do
		if p:IsA("BasePart") then
			p.Touched:Connect(function(hit)
				local h = hit.Parent:FindFirstChildOfClass("Humanoid")
				if h and hit.Parent ~= char then h.Health = 0 end
			end)
		end
	end
	btn.BackgroundColor3 = Color3.fromRGB(0,170,0)
end)
